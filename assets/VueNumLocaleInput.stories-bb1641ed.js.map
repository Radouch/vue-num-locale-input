{"version":3,"file":"VueNumLocaleInput.stories-bb1641ed.js","sources":["../../src/lib-components/vue-num-locale-input.vue"],"sourcesContent":["<template>\n  <input\n    type=\"text\"\n    v-bind=\"$attrs\"\n    :style=\"shown === 'number' ? 'display: none' : ''\"\n    readonly\n    :value=\"\n      typeof modelValue === 'number'\n        ? modelValue.toLocaleString(undefined, options)\n        : ''\n    \"\n    @focus=\"handleNumberFocusIn\"\n  />\n  <input\n    type=\"number\"\n    v-bind=\"$attrs\"\n    :value=\"modelValue\"\n    @input=\"updateValue\"\n    :style=\"shown === 'text' ? 'display: none' : ''\"\n    @focusout=\"handleNumberFocusOut\"\n    ref=\"inpnum\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, nextTick } from \"vue\";\n\ndefineProps({\n  modelValue: {\n    type: Number,\n    required: false,\n  },\n  /** See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#options */\n  options: {\n    type: Object,\n    required: false,\n    default: () => ({}),\n  },\n});\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst updateValue = (event: any) => {\n  emit(\"update:modelValue\", Number(event.target.value));\n};\n\n/** HTML Input type=number element */\nconst inpnum = ref<HTMLElement | null>(null);\n\n/** Which type of input is shown? */\nconst shown = ref(\"text\");\n\n/** Handle FocusIn event on input type=text */\nconst handleNumberFocusIn = async () => {\n  shown.value = \"number\";\n  if (inpnum.value !== null) {\n    await nextTick();\n    inpnum.value.focus();\n  }\n};\n\n/** Handle FocusOut event on input type=number */\nconst handleNumberFocusOut = () => {\n  shown.value = \"text\";\n};\n</script>\n"],"names":["updateValue","event","emit","inpnum","ref","shown","handleNumberFocusIn","nextTick","handleNumberFocusOut"],"mappings":"kTA0CM,MAAAA,EAAeC,GAAe,CAClCC,EAAK,oBAAqB,OAAOD,EAAM,OAAO,KAAK,CAAC,CAAA,EAIhDE,EAASC,EAAwB,IAAI,EAGrCC,EAAQD,EAAI,MAAM,EAGlBE,EAAsB,SAAY,CACtCD,EAAM,MAAQ,SACVF,EAAO,QAAU,OACnB,MAAMI,EAAS,EACfJ,EAAO,MAAM,QACf,EAIIK,EAAuB,IAAM,CACjCH,EAAM,MAAQ,MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}