{"version":3,"file":"VueNumLocaleInput.stories-87cea8da.js","sources":["../../src/lib-components/vue-num-locale-input.vue","../../src/stories/VueNumLocaleInput.stories.js"],"sourcesContent":["<template>\n  <input\n    type=\"text\"\n    v-bind=\"$attrs\"\n    :style=\"shown === 'number' ? 'display: none' : ''\"\n    readonly\n    :value=\"\n      typeof modelValue === 'number'\n        ? modelValue.toLocaleString(undefined, options)\n        : ''\n    \"\n    @focus=\"handleNumberFocusIn\"\n  />\n  <input\n    type=\"number\"\n    v-bind=\"$attrs\"\n    :value=\"modelValue\"\n    @input=\"updateValue\"\n    :style=\"shown === 'text' ? 'display: none' : ''\"\n    @focusout=\"handleNumberFocusOut\"\n    ref=\"inpnum\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, nextTick } from \"vue\";\n\ndefineProps({\n  modelValue: {\n    type: Number,\n    required: false,\n  },\n  /** See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#options */\n  options: {\n    type: Object,\n    required: false,\n    default: () => ({\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    }),\n  },\n});\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst updateValue = (event: any) => {\n  emit(\"update:modelValue\", Number(event.target.value));\n};\n\n/** HTML Input type=number element */\nconst inpnum = ref<HTMLElement | null>(null);\n\n/** Which type of input is shown? */\nconst shown = ref(\"text\");\n\n/** Handle FocusIn event on input type=text */\nconst handleNumberFocusIn = async () => {\n  shown.value = \"number\";\n  if (inpnum.value !== null) {\n    await nextTick();\n    inpnum.value.focus();\n  }\n};\n\n/** Handle FocusOut event on input type=number */\nconst handleNumberFocusOut = () => {\n  shown.value = \"text\";\n};\n</script>\n","/* VueNumLocaleInput.stories.js */\n\nimport VueNumLocaleInput from \"../lib-components/vue-num-locale-input.vue\";\nimport { ref } from \"vue\";\nexport default {\n  /* ðŸ‘‡ The title prop is optional.\r\n   * See https://storybook.js.org/docs/7.0/react/configure/overview#configure-story-loading\r\n   * to learn how to generate automatic titles\r\n   */\n  title: \"VueNumLocaleInput\",\n  component: VueNumLocaleInput\n};\nexport const SingleFieldWithOptions = {\n  render: args => ({\n    components: {\n      VueNumLocaleInput\n    },\n    setup() {\n      let model = ref(12);\n      const updateModel = event => model.value = event;\n      return {\n        args,\n        model,\n        updateModel\n      };\n    },\n    data() {\n      return {\n        numValue: 13\n      };\n    },\n    template: `<VueNumLocaleInput v-bind=\"args\" :modelValue=\"model\" @update:modelValue=\"updateModel\" />`\n  }),\n  args: {\n    min: -2,\n    max: 20000,\n    options: {\n      notation: \"scientific\",\n      minimumFractionDigits: 1,\n      maximumFractionDigits: 3,\n      minimumIntegerDigits: 3\n    }\n  }\n};\nexport const ThreeFieldsBootstraped = {\n  name: \"Three fields as Bootstrap Input Group\",\n  render: (args, args2) => ({\n    components: {\n      VueNumLocaleInput\n    },\n    data() {\n      return {\n        secondValue: -273.15\n      };\n    },\n    setup() {\n      let firstValue = ref(12);\n      const updateFirstValue = event => firstValue.value = event;\n      return {\n        args,\n        args2,\n        firstValue,\n        updateFirstValue\n      };\n    },\n    template: `\n    <div class=\"mb-4\">first value: {{firstValue}}, second value: {{secondValue}}</div>\n  <div class=\"input-group mb-3\">\n  <span class=\"input-group-text\">first value</span><VueNumLocaleInput v-bind=\"args\" :modelValue=\"firstValue\" @update:modelValue=\"updateFirstValue\" />\n  </div>\n  <div class=\"input-group mb-3\">\n  <span class=\"input-group-text\">also firstValue</span><VueNumLocaleInput v-bind=\"args\" v-model=\"firstValue\" />\n  </div>\n  <div class=\"input-group mb-3\">\n    <span class=\"input-group-text\">second value</span><VueNumLocaleInput v-bind=\"args\" v-model=\"secondValue\" />\n  </div>,`\n  }),\n  args: {\n    step: 1,\n    max: 20,\n    class: \"form-control\"\n  },\n  args2: {\n    step: 2,\n    max: 22,\n    class: \"form-control\"\n  }\n};\nSingleFieldWithOptions.parameters = {\n  ...SingleFieldWithOptions.parameters,\n  docs: {\n    ...SingleFieldWithOptions.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  render: args => ({\\n    components: {\\n      VueNumLocaleInput\\n    },\\n    setup() {\\n      let model = ref(12);\\n      const updateModel = event => model.value = event;\\n      return {\\n        args,\\n        model,\\n        updateModel\\n      };\\n    },\\n    data() {\\n      return {\\n        numValue: 13\\n      };\\n    },\\n    template: `<VueNumLocaleInput v-bind=\\\"args\\\" :modelValue=\\\"model\\\" @update:modelValue=\\\"updateModel\\\" />`\\n  }),\\n  args: {\\n    min: -2,\\n    max: 20000,\\n    options: {\\n      notation: \\\"scientific\\\",\\n      minimumFractionDigits: 1,\\n      maximumFractionDigits: 3,\\n      minimumIntegerDigits: 3\\n    }\\n  }\\n}\",\n      ...SingleFieldWithOptions.parameters?.docs?.source\n    }\n  }\n};\nThreeFieldsBootstraped.parameters = {\n  ...ThreeFieldsBootstraped.parameters,\n  docs: {\n    ...ThreeFieldsBootstraped.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  name: \\\"Three fields as Bootstrap Input Group\\\",\\n  render: (args, args2) => ({\\n    components: {\\n      VueNumLocaleInput\\n    },\\n    data() {\\n      return {\\n        secondValue: -273.15\\n      };\\n    },\\n    setup() {\\n      let firstValue = ref(12);\\n      const updateFirstValue = event => firstValue.value = event;\\n      return {\\n        args,\\n        args2,\\n        firstValue,\\n        updateFirstValue\\n      };\\n    },\\n    template: `\\n    <div class=\\\"mb-4\\\">first value: {{firstValue}}, second value: {{secondValue}}</div>\\n  <div class=\\\"input-group mb-3\\\">\\n  <span class=\\\"input-group-text\\\">first value</span><VueNumLocaleInput v-bind=\\\"args\\\" :modelValue=\\\"firstValue\\\" @update:modelValue=\\\"updateFirstValue\\\" />\\n  </div>\\n  <div class=\\\"input-group mb-3\\\">\\n  <span class=\\\"input-group-text\\\">also firstValue</span><VueNumLocaleInput v-bind=\\\"args\\\" v-model=\\\"firstValue\\\" />\\n  </div>\\n  <div class=\\\"input-group mb-3\\\">\\n    <span class=\\\"input-group-text\\\">second value</span><VueNumLocaleInput v-bind=\\\"args\\\" v-model=\\\"secondValue\\\" />\\n  </div>,`\\n  }),\\n  args: {\\n    step: 1,\\n    max: 20,\\n    class: \\\"form-control\\\"\\n  },\\n  args2: {\\n    step: 2,\\n    max: 22,\\n    class: \\\"form-control\\\"\\n  }\\n}\",\n      ...ThreeFieldsBootstraped.parameters?.docs?.source\n    }\n  }\n};"],"names":["updateValue","event","emit","inpnum","ref","shown","handleNumberFocusIn","nextTick","handleNumberFocusOut","VueNumLocaleInput_stories","VueNumLocaleInput","SingleFieldWithOptions","args","model","ThreeFieldsBootstraped","args2","firstValue","_a","_c","_b","__namedExportsOrder"],"mappings":"iWA6CM,MAAAA,EAAeC,GAAe,CAClCC,EAAK,oBAAqB,OAAOD,EAAM,OAAO,KAAK,CAAC,CAAA,EAIhDE,EAASC,EAAwB,IAAI,EAGrCC,EAAQD,EAAI,MAAM,EAGlBE,EAAsB,SAAY,CACtCD,EAAM,MAAQ,SACVF,EAAO,QAAU,OACnB,MAAMI,EAAS,EACfJ,EAAO,MAAM,QACf,EAIIK,EAAuB,IAAM,CACjCH,EAAM,MAAQ,MAAA;;;2CC9DhB,MAAeI,EAAA,CAKb,MAAO,oBACP,UAAWC,CACb,EACaC,EAAyB,CACpC,OAAQC,IAAS,CACf,WAAY,CAChB,kBAAMF,CACD,EACD,OAAQ,CACN,IAAIG,EAAQT,EAAI,EAAE,EAElB,MAAO,CACL,KAAAQ,EACA,MAAAC,EACA,YAJkBZ,GAASY,EAAM,MAAQZ,CAKjD,CACK,EACD,MAAO,CACL,MAAO,CACL,SAAU,EAClB,CACK,EACD,SAAU,0FACd,GACE,KAAM,CACJ,IAAK,GACL,IAAK,IACL,QAAS,CACP,SAAU,aACV,sBAAuB,EACvB,sBAAuB,EACvB,qBAAsB,CACvB,CACF,CACH,EACaa,EAAyB,CACpC,KAAM,wCACN,OAAQ,CAACF,EAAMG,KAAW,CACxB,WAAY,CAChB,kBAAML,CACD,EACD,MAAO,CACL,MAAO,CACL,YAAa,OACrB,CACK,EACD,OAAQ,CACN,IAAIM,EAAaZ,EAAI,EAAE,EAEvB,MAAO,CACL,KAAAQ,EACA,MAAAG,EACA,WAAAC,EACA,iBALuBf,GAASe,EAAW,MAAQf,CAM3D,CACK,EACD,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAWd,GACE,KAAM,CACJ,KAAM,EACN,IAAK,GACL,MAAO,cACR,EACD,MAAO,CACL,KAAM,EACN,IAAK,GACL,MAAO,cACR,CACH,YACAU,EAAuB,WAAa,CAClC,GAAGA,EAAuB,WAC1B,KAAM,CACJ,IAAGM,EAAAN,EAAuB,aAAvB,YAAAM,EAAmC,KACtC,OAAQ,CACN,eAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAChB,IAAGC,GAAAC,EAAAR,EAAuB,aAAvB,YAAAQ,EAAmC,OAAnC,YAAAD,EAAyC,MAC7C,CACF,CACH,YACAJ,EAAuB,WAAa,CAClC,GAAGA,EAAuB,WAC1B,KAAM,CACJ,IAAGG,EAAAH,EAAuB,aAAvB,YAAAG,EAAmC,KACtC,OAAQ,CACN,eAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAChB,IAAGC,GAAAC,EAAAL,EAAuB,aAAvB,YAAAK,EAAmC,OAAnC,YAAAD,EAAyC,MAC7C,CACF,CACH,EAAC,MAAAE,EAAA,CAAA,yBAAA,wBAAA"}